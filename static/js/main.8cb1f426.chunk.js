(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),o=n.n(i),s=(n(35),n(36),n(4)),c=n(5),u=n(7),l=n(6),d=n(1),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getValue=function(){var t=e.props.value;return t.revealed?t.isHit?"\ud83e\udd91":t.isMiss?"\ud83d\udca6":void 0:"?"},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{onClick:this.props.onClick,className:"cell",children:this.getValue()})}}]),n}(a.Component);var b=n(14),p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState({value:e.target.value,clicks:a.props.boardInfo.clicks,gameWon:a.props.boardInfo.gameWon,squidCount:a.props.boardInfo.remainingSquids})},a.handleSubmit=function(e){if(e.preventDefault(),!0===a.props.boardInfo.gameWon&&!0===a.state.activeButton&&0!==a.state.value.length){alert(a.state.value+", you have a score of "+a.props.boardInfo.clicks+" clicks!");var t={users:{initials:a.state.value,clicks:a.props.boardInfo.clicks}};a.props.sendScore(t),a.setState({activeButton:!1})}else alert("Score Failed To Submit")},a.state={clicks:a.props.boardInfo.clicks,gameWon:a.props.boardInfo.gameWon,squidCount:a.props.boardInfo.remainingSquids,value:"",activeButton:!0},a}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsxs)("label",{children:["Vere are ",this.props.boardInfo.remainingSquids," Squids left ","        | ","  Shots Fired: ",this.props.boardInfo.clicks," ","        | "]}),Object(d.jsxs)("label",{children:["Initials:",Object(d.jsx)("input",{type:"text",onChange:this.handleChange,size:"3",maxlength:"3"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(a.Component),j=Object(b.b)(null,(function(e){return{sendScore:function(t){e(function(e){return function(){fetch("http://localhost:3001/api/v1/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}}(t))}}}))(p),f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={boardData:e.initBoardData(e.props.height,e.props.width),gameWon:!1,clicks:0,remainingSquids:9},e.renderBoard=function(t){return t.map((function(t){return t.map((function(n){return Object(d.jsx)("div",{children:Object(d.jsx)(h,{onClick:function(){return e.handleCellClick(n)},value:n})},n.x*t.length+n.y)}))}))},e.renderInfo=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(j,{boardInfo:e})})},e.revealBoard=function(){var t=e.state.boardData;t.map((function(e){e.map((function(e){e.revealed=!0}))})),e.setState({boardData:t})},e.handleCellClick=function(t){var n=e.state.boardData,a=e.state.clicks+1,r=e.state.remainingSquids,i=!1;t.revealed=!0,!0===t.squid&&!1===t.isHit&&(t.isHit=!0,r-=1),!1===t.squid&&(t.isMiss=!0),0===r&&(alert("Game Over!"),i=!0,e.revealBoard()),e.setState({boardData:n,gameWon:i,clicks:a,remainingSquids:r})},e}return Object(c.a)(n,[{key:"createEmptyArray",value:function(e,t){for(var n=[],a=0;a<e;a++){n.push([]);for(var r=0;r<t;r++)n[a][r]={x:a,y:r,isHit:!1,isMiss:!1,squid:!1,revealed:!1}}return n}},{key:"placeSquids",value:function(e){return this.getRandomNumber(e,2),this.getRandomNumber(e,3),this.getRandomNumber(e,4),e}},{key:"getRandomNumber",value:function(e,t){var n=Math.floor(1e3*Math.random()+1)%17,a=Math.floor(1e3*Math.random()+1)%17,r=Math.floor(1e3*Math.random()+1)%2;!0===e[n][a].squid&&this.getRandomNumber(e,t);for(var i=0;i<t;i++)1===r?e[n+i][a].squid=!0:e[n][a+i].squid=!0}},{key:"initBoardData",value:function(e,t){var n=this.createEmptyArray(e,t);return n=this.placeSquids(n)}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"board",children:[this.renderInfo(this.state),this.renderBoard(this.state.boardData)]})}}]),n}(a.Component),O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={height:20,width:20},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.height,n=e.width;return Object(d.jsx)("div",{className:"game",children:Object(d.jsx)(f,{height:t,width:n})})}}]),n}(a.Component),v=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{children:"Press Play to start the game or Rules to see how to play!"})}}]),n}(r.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return"Zere are three groups of squids: a large one, a medium one, und a small one! If vee allow zem to come any closer, zee children on zee island vill be in grave danger! Sailor! Take command of our new radar system to seek out and sink all of zese fiendishly hidden enemies! To destroy zee marauding squid pods, you must score four direct hits on zee large, three on zee medium, und two on zee small"}}]),n}(r.a.Component),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("ol",{id:"leaderboard",children:this.state.scores.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("li",{children:[e.initials," with ",e.clicks," shots"]})},e.id)}))})}}]),n}(r.a.Component),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.fetchLeaderboard()},e.handleLoading=function(){if(console.log(e.props.entries),0!==e.props.entries.length)return Object(d.jsx)(g,{entries:e.props.entries})},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"highscores",children:[Object(d.jsx)("h1",{children:"Top 20 Score!"}),this.handleLoading()]})}}]),n}(r.a.Component),x=Object(b.b)((function(e){return{entries:e.entries,loading:e.loading}}),{fetchLeaderboard:function(){return function(e){e({type:"LOADING_LEADERBOARD"}),fetch("http://localhost:3001/api/v1/users").then((function(e){return e.json()})).then((function(t){return e({type:"ADD_ENTRIES",payload:t})}))}}})(y),S=n(11),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)(S.b,{to:"/Sinking-Squids/",style:{paddingRight:"10px"},children:"Home"}),Object(d.jsx)(S.b,{to:"/Sinking-Squids/game",style:{paddingRight:"10px"},children:"Play"}),Object(d.jsx)(S.b,{to:"/Sinking-Squids/rules",style:{paddingRight:"10px"},children:"Rules"}),Object(d.jsx)(S.b,{to:"/Sinking-Squids/leaderboard",children:"Leaderboard"})]})}}]),n}(r.a.Component),q=n(2);var C=function(){return Object(d.jsx)(S.a,{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)(k,{}),Object(d.jsx)(q.a,{exact:!0,path:"/Sinking-Squids/",component:v}),Object(d.jsx)(q.a,{exact:!0,path:"/Sinking-Squids/game",component:O}),Object(d.jsx)(q.a,{exact:!0,path:"/Sinking-Squids/rules",component:m}),Object(d.jsx)(q.a,{exact:!0,path:"/Sinking-Squids/leaderboard",component:x})]})})})},D=n(15),I=n(29),N=n(30),A=n(13);var R=Object(D.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entries:[],loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_LEADERBOARD":return Object(A.a)(Object(A.a)({},e),{},{entries:Object(N.a)(e.entries),loading:!0});case"ADD_ENTRIES":return Object(A.a)(Object(A.a)({},e),{},{entries:t.payload,loading:!1});case"SEND_SCORE":return Object(A.a)(Object(A.a)({},e),{},{entries:t.payload});default:return e}}),Object(D.c)(Object(D.a)(I.a)));o.a.render(Object(d.jsx)(b.a,{store:R,children:Object(d.jsx)(C,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.8cb1f426.chunk.js.map